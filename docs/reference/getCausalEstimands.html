<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>getCausalEstimands — getCausalEstimands • tsbcf</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="getCausalEstimands — getCausalEstimands" />
<meta property="og:description" content="This function returns the posterior draws, and posterior summary information at each tgt value
(posterior mean and credible interval bounds), for the ATE.  If subgroups are given, posterior
summary information is given at each tgt value/subgroup combination, for the CATE.  Optionally,
individual posterior information is also provided." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tsbcf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jestarling/tsbcf/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>getCausalEstimands</h1>
    
    <div class="hidden name"><code>getCausalEstimands.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function returns the posterior draws, and posterior summary information at each tgt value
(posterior mean and credible interval bounds), for the ATE.  If subgroups are given, posterior
summary information is given at each tgt value/subgroup combination, for the CATE.  Optionally,
individual posterior information is also provided.</p>
    </div>

    <pre class="usage"><span class='fu'>getCausalEstimands</span>(<span class='no'>tsbcf_output</span>, <span class='kw'>probit</span><span class='kw'>=</span><span class='no'>F</span>, <span class='kw'>relrisk</span><span class='kw'>=</span><span class='no'>F</span>,
                  <span class='kw'>indiv</span><span class='kw'>=</span><span class='no'>F</span>, <span class='kw'>subgroups</span><span class='kw'>=</span><span class='kw'>NULL</span>,
                  <span class='kw'>subgroups_pred</span><span class='kw'>=</span><span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tsbcf_output</th>
      <td><p>Output from the tsbcf() function, run with probit=T.</p></td>
    </tr>
    <tr>
      <th>probit</th>
      <td><p>Indicator for whether the tsbcf() output was generated as a probit model.
Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>relrisk</th>
      <td><p>Indicator, for probit models, of whether to return the ATE or the relative risk.
Note, for probit models, these are calculated on probability scale; w1 = pnorm(mu + tau),
w0 = pnorm(mu), ATE = w1-w0, RR = w1/w0.  Defaults to FALSE; is ignored if probit=F.</p></td>
    </tr>
    <tr>
      <th>indiv</th>
      <td><p>Indicator for whether to include individual treatment effect estimates.
Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>subgroups</th>
      <td><p>An n-length vector of subgroup values; these can be numeric values, factors, or
strings.  Defaults to NULL.  If populated, CATE and CATE_t are returned instead of ATE and ATE_t.</p></td>
    </tr>
    <tr>
      <th>subgroups_pred</th>
      <td><p>An npred-length vector of subgroup values; these can be numeric values,
factors, or strings.  Defaults to NULL.  If populated, CATE and CATE_t are returned instead of ATE
and ATE_t for out of sample predictions.  If fit was not run with predicted values, this input
is ignored.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    

<p>If subgroups = NULL, a list containing the following components:</p>
<dt>ate_post</dt><dd><p>A (nsim x n) matrix of posterior average treatment effect draws, where (nsim x n)
correspond to the tsbcf_output object.</p></dd>

<dt>ate_post_oos</dt><dd><p>A (nsim x npred) matrix of out-of-sample posterior average treatment effect
draws, where (nsim x n) correspond to the tsbcf_output object.  Included if fit contains
out-of-sample predictions.</p></dd>

<dt>ate_t_post</dt><dd><p>A (nsim x tlen) matrix of posterior average treatment effect draws, where
(nsim x tlen) correspond to the tsbcf_output object.  Each row is an MCMC iteration; each column is
a unique tgt point.  This is a matrix of posterior draws averaged over observations within each tgt
value.</p></dd>

<dt>ate_t_post_oos</dt><dd><p>A (nsim x tlen) matrix of out-of-sample posterior average treatment effect
draws, where (nsim x tlen) correspond to the tsbcf_output object.  Each row is an MCMC iteration;
each column is a unique tgt point.  This is a matrix of posterior draws averaged over observations
within each tgt value. Included if fit contains out-of-sample predictions.</p></dd>

<dt>ate_t_hat</dt><dd><p>A (tlen x 4) dataframe of posterior summary information for ate_t.  Columns are:
tgt, ate=posterior mean, lb=posterior credible interval lower bound, ub=posterior credible interval
upper bound.  Rows are tgt values.  Example: ate=apply(ate_t_post,2,mean), and
lb=apply(ate_t_post,2,function(x) quantile(x,.025))</p></dd>

<dt>ate_t_hat_oos</dt><dd><p>A (tlen x 4) dataframe of out-of-sample posterior summary information for
ate_t.  Columns are: tgt, ate=posterior mean, lb=posterior credible interval lower bound,
ub=posterior credible interval upper bound.  Rows are tgt values.
Example: ate=apply(ate_t_post,2,mean), and lb=apply(ate_t_post,2,function(x) quantile(x,.025)).
Included if fit contains out-of-sample predictions.</p></dd>

If subgroups!=NULL, a list containing the following components:

<dt>ate_post</dt><dd><p>A (nsim x ngroups) matrix of posterior conditional average treatment effect draws,
where (nsim x ngroups) correspond to the tsbcf_output object and the number of unique subgroups
provided.  Each row is an MCMC iteration; each column is a subgroup.</p></dd>

<dt>ate_post_oos</dt><dd><p>A (nsim x ngroups) matrix of out-of-sample posterior conditional average
treatment effect draws, where (nsim x ngroups) correspond to the tsbcf_output object and the number
of unique subgroups provided.  Each row is an MCMC iteration; each column is a subgroup.
Included if fit contains out-of-sample predictions.</p></dd>

<dt>ate_t_post</dt><dd><p>A (nsim x tlen*ngroups) matrix of posterior conditional average treatment effect
draws, where (nsim x tlen*ngroups) correspond to the tsbcf_output object and the number of unique
subgroups provided.  Each row is an MCMC iteration; each column is a subgroup-tgt value combination.</p></dd>

<dt>ate_t_post_oos</dt><dd><p>A (nsim x tlen*ngroups) matrix of out-of-sample posterior conditional average
treatment effect draws, where (nsim x tlen*ngroups) correspond to the tsbcf_output object and the
number of unique subgroups provided.  Each row is an MCMC iteration; each column is a subgroup-tgt
value combination. Included if fit contains out-of-sample predictions.</p></dd>

<dt>ate_t_hat</dt><dd><p>A (tlen*ngroups x 5) dataframe of posterior summary information for cate_t.
Columns are: tgt, subgroup, ate=posterior mean, lb=posterior credible interval lower bound,
ub=posterior credible interval upper bound.  Rows are tgt-subgroup combinations. Example:
ate=apply(ate_t_post,2,mean), and lb=apply(ate_t_post,2,function(x) quantile(x,.025))</p></dd>

<dt>ate_t_hat_oos</dt><dd><p>A (tlen*ngroups x 5) dataframe of out-of-sample posterior summary information
for cate_t.  Columns are: tgt, subgroup, ate=posterior mean, lb=posterior credible interval lower
bound, ub=posterior credible interval upper bound.  Rows are tgt-subgroup combinations.
Example: ate=apply(ate_t_post,2,mean), and lb=apply(ate_t_post,2,function(x) quantile(x,.025)).
Included if fit contains out-of-sample predictions.</p></dd>

If indiv=TRUE, the following items are also included:

<dt>ate_indiv</dt><dd><p>A data frame with n rows and 4 columns, containing individual posterior treatment
effect estimates.  Columns are: obs (observation number), posterior mean, lower bound (lb), and
upper bound (ub) for the posterior credible interval.  Included if indiv=TRUE.</p></dd>

<dt>ate_indiv_oos</dt><dd><p>A data frame with npred rows and 4 columns, containing out-of-sample individual
posterior treatment effect estimates.  Columns are: obs (observation number), posterior mean,
lower bound (lb), and upper bound (ub) for the posterior credible interval.  Included if indiv=TRUE
and out-of-sample data is provided for
prediction.</p></dd>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Function call example is as follows.  Let fit be the output of tsbcf(), run with probit=T.</span>
  <span class='fu'>getCausalEstimands</span>(<span class='no'>tsbcf_output</span>, <span class='kw'>probit</span><span class='kw'>=</span><span class='no'>F</span>, <span class='kw'>relrisk</span><span class='kw'>=</span><span class='no'>F</span>, <span class='kw'>indiv</span><span class='kw'>=</span><span class='no'>F</span>, <span class='kw'>subgroups</span><span class='kw'>=</span><span class='kw'>NULL</span>,
  <span class='kw'>subgroups_pred</span><span class='kw'>=</span><span class='kw'>NULL</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jennifer Starling.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


